(()=>{"use strict";var e={123:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Open+Sans&display=swap);"]),r.push([e.id,"body{min-height:calc(100vh + 100px);padding:0;margin:0;font-family:'Open sans', sans-serif;line-height:normal;color:#19387f;background:#f6ebf0}main{display:flex;align-items:center;justify-content:center;flex-direction:column;background:#f6ebf0;justify-items:center;margin-top:20px;margin-bottom:20px}main .no-trips{margin:50px 0;font-style:italic}a{color:#99a4bc}#addTrip{display:flex;align-items:center;justify-content:center;margin:30px 0}#addTrip input{padding:5px !important;background:#eed9e3;color:#2D4E9B;border:1px solid #ee9bc2;border-radius:5px;margin:5px}#addTrip input::placeholder{color:#99a4bc;opacity:1}@media screen and (min-width: 601px){#addTrip input{font-size:1.2em}}#addTrip #add{width:100px;height:30px;background:#d873a2;color:#eed9e3;border:none;border-radius:8px;cursor:pointer;width:100px}#addTrip #add:hover{background:#19387f}@media screen and (min-width: 601px){#addTrip #add{font-size:1.2em;height:40px}}@media screen and (max-width: 601px){#addTrip{flex-direction:column}}.remove-trips{width:100%;display:flex;align-items:center;justify-content:center;display:none}.remove-trips #removeTrips{border-radius:8px;cursor:pointer;background:none;border:1px solid #C22971;color:#C22971}.remove-trips #removeTrips:hover{border:1px solid #C22971;background:#C22971;color:#f5e9ef}@media screen and (min-width: 601px){.remove-trips #removeTrips{font-size:1.2em;height:40px}}\n",""]);const i=r},859:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,"footer{background:#eed9e3;height:50px;position:sticky;width:100%;bottom:0;box-shadow:#f5e9ef 0 -5px 10px 2px}@media screen and (min-width: 601px){footer{height:70px}}footer p{text-align:center;padding-top:15px}@media screen and (min-width: 601px){footer p{padding-top:20px;font-size:1.3em}}footer p a{color:#2D4E9B}\n",""]);const i=r},603:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,"header{display:flex;align-items:center;justify-content:center;flex-direction:column;background:#eed9e3;padding:20px}header h1{font-size:2em;font-weight:bold;color:#2D4E9B}@media screen and (min-width: 601px){header h1{font-size:3em}}\n",""]);const i=r},259:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,"*{box-sizing:border-box}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}ul{list-style-type:none}\n",""]);const i=r},586:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,'.subtitle{font-size:1.5em;text-align:center;color:#19387f}@media screen and (min-width: 601px){.subtitle{font-size:2em}}section{width:80%;max-width:800px;margin:10px 0;padding:10px;border-radius:10px;background:#eed9e3;display:flex;flex-direction:column;justify-items:center;align-items:center}section *{margin:5px}@media screen and (min-width: 601px){section *{margin:10px}}section>div{width:100%}section *>input[type=text]{min-height:30px}@media screen and (min-width: 601px){section *>input[type=text]{min-height:40px}}section .hero-container{width:100%}section .hero-container .hero-img{margin:0;height:auto;width:100%;max-width:100%}section .trip-head-container{background:#f5e9ef;display:flex;align-items:center;justify-content:center;flex-direction:column}section .trip-head-container h1{font-size:2em;font-weight:bold}@media screen and (min-width: 601px){section .trip-head-container h1{font-size:2.5em}}section .trip-head-container h2{font-size:1em}@media screen and (min-width: 601px){section .trip-head-container h2{font-size:1.5em}}section .trip-head-container h3{font-size:0.9em;margin-top:10px;font-style:italic}@media screen and (min-width: 601px){section .trip-head-container h3{font-size:1.3em}}section .weather-container{background:#f5e9ef;display:flex;align-items:center;justify-content:center;flex-direction:column}section .weather-container .weather-img{width:30%;max-width:100px}section .weather-container .weather-status{font-style:italic;text-align:center;font-size:0.9em}@media screen and (min-width: 601px){section .weather-container .weather-status{font-size:1.5em}}section .weather-container .weather-temp-container{display:flex;align-items:center;justify-content:center;width:80%}section .weather-container .weather-temp-container .weather-temp{font-size:1.3em;font-weight:bold;color:#C22971}@media screen and (min-width: 601px){section .weather-container .weather-temp-container .weather-temp{font-size:1.5em}}section .weather-container .weather-temp-container .weather-temp-high{display:flex;align-items:center;justify-content:center;width:50%;justify-content:flex-end;margin-right:10px}@media screen and (min-width: 601px){section .weather-container .weather-temp-container .weather-temp-high{font-size:1.3em}}section .weather-container .weather-temp-container .weather-temp-low{display:flex;align-items:center;justify-content:center;width:50%;justify-content:flex-start;margin-left:10px}@media screen and (min-width: 601px){section .weather-container .weather-temp-container .weather-temp-low{font-size:1.3em}}section .weather-container .weather-temp-container .weather-temp-low .weather-temp{color:#2D4E9B}.flights-container{background:#f5e9ef}#flights{display:flex;align-items:center;justify-content:center;flex-direction:column}.dep-flight-details,.arr-flight-details{width:100%;max-width:500px;display:grid;grid-template-columns:30px repeat(2, minmax(10px, 1fr)) 30px;grid-template-rows:[date] 30px [air] 30px [time] 30px;grid-template-areas:"dateL  dateL   dateR   dateR"\r "imgL   airL    airR    imgR"\r "imgL   timeL   timeR   imgR";grid-gap:5px}.dep-flight-details *,.arr-flight-details *{margin:0;padding:0}.dep-flight-details input,.arr-flight-details input{padding:5px !important;background:#eed9e3;color:#2D4E9B;border:1px solid #ee9bc2;border-radius:5px;margin:5px}.dep-flight-details input::placeholder,.arr-flight-details input::placeholder{color:#99a4bc;opacity:1}@media screen and (min-width: 601px){.dep-flight-details input,.arr-flight-details input{font-size:1.2em}}@media screen and (min-width: 601px){.dep-flight-details,.arr-flight-details{grid-gap:10px;grid-template-columns:40px repeat(2, minmax(10px, 1fr)) 40px;grid-template-rows:[date] 40px [air] 40px [time] 40px}}#dep-date-dep{grid-area:dateL}#dep-img-dep{grid-area:imgL;width:100%;align-self:center;border-radius:5px}#dep-air-dep{grid-area:airL}#dep-time-dep{grid-area:timeL}#dep-date-arr{grid-area:dateR}#dep-img-arr{grid-area:imgR;width:100%;align-self:center;border-radius:5px}#dep-air-arr{grid-area:airR}#dep-time-arr{grid-area:timeR}#arr-date-dep{grid-area:dateL}#arr-img-dep{grid-area:imgL;width:100%;align-self:center;border-radius:5px}#arr-air-dep{grid-area:airL}#arr-time-dep{grid-area:timeL}#arr-date-arr{grid-area:dateR}#arr-img-arr{grid-area:imgR;width:100%;align-self:center;border-radius:5px}#arr-air-arr{grid-area:airR}#arr-time-arr{grid-area:timeR}#saveFlight{width:100px;height:30px;background:#d873a2;color:#eed9e3;border:none;border-radius:8px;cursor:pointer}#saveFlight:hover{background:#19387f}@media screen and (min-width: 601px){#saveFlight{font-size:1.2em;height:40px}}.restaurants-container,.hotels-container{background:#f5e9ef;display:flex;align-items:center;justify-content:center;flex-direction:column}.restaurants-container input,.hotels-container input{padding:5px !important;background:#eed9e3;color:#2D4E9B;border:1px solid #ee9bc2;border-radius:5px;margin:5px}.restaurants-container input::placeholder,.hotels-container input::placeholder{color:#99a4bc;opacity:1}@media screen and (min-width: 601px){.restaurants-container input,.hotels-container input{font-size:1.2em}}#restaurants,#hotels{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;max-width:500px}#restaurants *,#hotels *{width:95%}@media screen and (min-width: 601px){#restaurants,#hotels{flex-direction:row}}#saveRestaurant,#saveHotel{width:100px;height:30px;background:#d873a2;color:#eed9e3;border:none;border-radius:8px;cursor:pointer}#saveRestaurant:hover,#saveHotel:hover{background:#19387f}@media screen and (min-width: 601px){#saveRestaurant,#saveHotel{font-size:1.2em;height:40px}}#restaurants-list,#hotels-list{background:#eed9e3;display:flex;align-items:center;justify-content:center;flex-direction:column;width:95%;max-width:500px}#restaurants-list li,#hotels-list li{width:100%}#restaurants-list li p:nth-child(1),#hotels-list li p:nth-child(1){font-size:0.9em}@media screen and (min-width: 601px){#restaurants-list li p:nth-child(1),#hotels-list li p:nth-child(1){font-size:1.3em}}#restaurants-list li p:nth-child(2),#hotels-list li p:nth-child(2){font-size:0.8em}@media screen and (min-width: 601px){#restaurants-list li p:nth-child(2),#hotels-list li p:nth-child(2){font-size:1.2em}}.no-items{text-align:center;font-style:italic;color:#99a4bc;font-size:0.8em}@media screen and (min-width: 601px){.no-items{font-size:1em}}\n',""]);const i=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);a&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},379:(e,t,n)=>{var a,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function o(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function d(e,t){for(var n={},a=[],r=0;r<e.length;r++){var d=e[r],l=t.base?d[0]+t.base:d[0],c=n[l]||0,s="".concat(l," ").concat(c);n[l]=c+1;var p=o(s),h={css:d[1],media:d[2],sourceMap:d[3]};-1!==p?(i[p].references++,i[p].updater(h)):i.push({identifier:s,updater:f(h,t),references:1}),a.push(s)}return a}function l(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var i=n.nc;i&&(a.nonce=i)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,s=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=s(t,r);else{var i=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function h(e,t,n){var a=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var m=null,u=0;function f(e,t){var n,a,r;if(t.singleton){var i=u++;n=m||(m=l(t)),a=p.bind(null,n,i,!1),r=p.bind(null,n,i,!0)}else n=l(t),a=h.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=d(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=o(n[a]);i[r].references--}for(var l=d(e,t),c=0;c<n.length;c++){var s=o(n[c]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}n=l}}}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={id:a,exports:{}};return e[a](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e=n(379),t=n.n(e),a=n(259);t()(a.Z,{insert:"head",singleton:!1}),a.Z.locals;var r=n(123);t()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;var i=n(859);t()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var o=n(603);t()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;var d=n(586);function l(e,t){t.innerHTML="";for(let n of e){let e=document.createElement("li");t.appendChild(e);let a=document.createElement("p");a.innerText=n.name,e.appendChild(a);let r=document.createElement("p");r.innerText=n.address,e.appendChild(r)}}function c(e,t){t.innerHTML="";for(let n of e){let e=document.createElement("li");t.appendChild(e);let a=document.createElement("p");a.innerText=n.name,e.appendChild(a);let r=document.createElement("p");r.innerText=n.address,e.appendChild(r)}}function s(e,t,n){t.addEventListener("click",(t=>{switch(t.preventDefault(),e){case"flight":{const e=document.querySelector(`#section-${n}`).querySelector("#flights"),t=e.querySelector("#dep-date-dep").value,a=e.querySelector("#dep-air-dep").value,r=e.querySelector("#dep-time-dep").value,i=e.querySelector("#dep-date-arr").value,o=e.querySelector("#dep-air-arr").value,d=e.querySelector("#dep-time-arr").value,l=e.querySelector("#arr-date-dep").value,c=e.querySelector("#arr-air-dep").value,s=e.querySelector("#arr-time-dep").value,h=e.querySelector("#arr-date-arr").value,m=e.querySelector("#arr-air-arr").value,u=e.querySelector("#arr-time-arr").value;let f={};f.flights={departure:{depDate:t,arrDate:i,depAir:a,arrAir:o,depTime:r,arrTime:d},return:{depDate:l,arrDate:h,depAir:c,arrAir:m,depTime:s,arrTime:u}},p(`http://localhost:8081/trips/${n}/flights`,f).then(alert("Updated!"));break}case"restaurant":{const e=document.querySelector(`#section-${n}`).querySelector("#restaurants");let t={};t={name:e.querySelector("#rest-name").value,address:e.querySelector("#rest-address").value},p(`http://localhost:8081/trips/${n}/restaurants`,t).then((e=>{const t=document.querySelector(`#section-${n}`).querySelector("#restaurants-list");t.innerHTML="",l(e[n].restaurants,t)})).then((()=>{e.querySelector("#rest-name").value="",e.querySelector("#rest-address").value=""}));break}case"hotel":{const e=document.querySelector(`#section-${n}`).querySelector("#hotels");let t={};t={name:e.querySelector("#hot-name").value,address:e.querySelector("#hot-address").value},p(`http://localhost:8081/trips/${n}/hotels`,t).then((e=>{const t=document.querySelector(`#section-${n}`).querySelector("#hotels-list");t.innerHTML="",c(e[n].hotels,t)})).then((()=>{e.querySelector("#hot-name").value="",e.querySelector("#hot-address").value=""}));break}}}))}t()(d.Z,{insert:"head",singleton:!1}),d.Z.locals;const p=async(e,t)=>{const n=await fetch(e,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});try{return await n.json()}catch(e){console.log("Error:",e)}},h=n.p+"9f662027c8fafbef62ac4c4809bf5938.png",m=n.p+"6b1a4ec5520b32114d61e860d6c4d1fd.png";function u(e){const t=document.querySelector("main");if(0==e.length){const e=document.createElement("h3");e.className="no-trips",e.innerText="Start by adding a trip...",t.appendChild(e)}else{document.querySelector(".remove-trips").style.display="flex",t.innerHTML="";for(let n=0;n<e.length;n++){const a=document.createElement("section");a.id=`section-${n}`,t.appendChild(a);const r=document.createElement("div");r.className="hero-container",a.appendChild(r);const i=document.createElement("img");i.className="hero-img",""!=e[n].hero?i.src=e[n].hero:i.src="http://www.tourismomag.net/wp-content/themes/fearless/images/missing-image-640x360.png",r.appendChild(i);const o=document.createElement("div");o.className="trip-head-container",a.appendChild(o);const d=document.createElement("h1");d.className="subtitle",d.innerText=e[n].location.name;const p=document.createElement("h2");p.innerText=e[n].date.day+"."+e[n].date.month+"."+e[n].date.year;const u=document.createElement("h3");u.innerText=`${e[n].countdown} days until your trip.`,o.appendChild(d),o.appendChild(p),o.appendChild(u);const f=document.createElement("div");f.className="weather-container",a.appendChild(f);const g=document.createElement("h2");if(g.className="subtitle",g.innerText="Weather",f.appendChild(g),""!==e[n].weather.img){const t=document.createElement("img");t.className="weather-img",null==e[n].weather?t.src="http://www.tourismomag.net/wp-content/themes/fearless/images/missing-image-640x360.png":t.src=`https://weatherbit.io/static/img/icons/${e[n].weather.img}.png`,f.appendChild(t)}const x=document.createElement("h3");x.className="weather-status",null==e[n].weather?x.innerText="Could not fetch weather":x.innerText=e[n].weather.status,f.appendChild(x);const y=document.createElement("div");y.className="weather-temp-container",f.appendChild(y);const w=document.createElement("div");w.className="weather-temp-high",y.appendChild(w);const v=document.createElement("p");v.className="weather-temp",null==e[n].weather?v.innerText="--":v.innerText=e[n].weather.high,w.appendChild(v);const b=document.createElement("p");b.className="weather-temp-label",b.innerText="Hi",w.appendChild(b);const E=document.createElement("div");E.className="weather-temp-low",y.appendChild(E);const C=document.createElement("p");C.className="weather-temp",null==e[n].weather?C.innerText="--":C.innerText=e[n].weather.low,E.appendChild(C);const T=document.createElement("p");T.className="weather-temp-label",T.innerText="Lo",E.appendChild(T);const S=document.createElement("div");S.className="flights-container",a.appendChild(S);const q=document.createElement("h2");q.className="subtitle",S.appendChild(q);const k=document.createElement("form");k.id="flights",S.appendChild(k);const N=document.createElement("h3");N.className="subtitle",N.innerText="Departure",k.appendChild(N);const M=document.createElement("div");M.className="dep-flight-details",k.appendChild(M);const j=document.createElement("input");j.id="dep-date-dep",j.type="text",j.placeholder="DD/MM/YYYY",null==e[n].flights?j.value="":j.value=e[n].flights.departure.depDate,M.appendChild(j);const D=document.createElement("img");D.id="dep-img-dep",D.src=h,M.appendChild(D);const z=document.createElement("input");z.id="dep-air-dep",z.type="text",z.placeholder="Depart airport",null==e[n].flights?z.value="":z.value=e[n].flights.departure.depAir,M.appendChild(z);const L=document.createElement("input");L.id="dep-time-dep",L.type="text",L.placeholder="HH:MM",null==e[n].flights?L.value="":L.value=e[n].flights.departure.depTime,M.appendChild(L);const R=document.createElement("input");R.id="dep-date-arr",R.type="text",R.placeholder="DD/MM/YYYY",null==e[n].flights?R.value="":R.value=e[n].flights.departure.arrDate,M.appendChild(R);const Y=document.createElement("img");Y.id="dep-img-arr",Y.src=m,M.appendChild(Y);const H=document.createElement("input");H.id="dep-air-arr",H.type="text",H.placeholder="Arrival airport",null==e[n].flights?H.value="":H.value=e[n].flights.departure.arrAir,M.appendChild(H);const $=document.createElement("input");$.id="dep-time-arr",$.type="text",$.placeholder="HH:MM",null==e[n].flights?$.value="":$.value=e[n].flights.departure.arrTime,M.appendChild($);const A=document.createElement("h3");A.className="subtitle",A.innerText="Return",k.appendChild(A);const Z=document.createElement("div");Z.className="arr-flight-details",k.appendChild(Z);const O=document.createElement("input");O.id="arr-date-dep",O.type="text",O.placeholder="DD/MM/YYYY",null==e[n].flights?O.value="":O.value=e[n].flights.return.depDate,Z.appendChild(O);const F=document.createElement("img");F.id="arr-img-dep",F.src=h,Z.appendChild(F);const P=document.createElement("input");P.id="arr-air-dep",P.type="text",P.placeholder="Depart airport",null==e[n].flights?P.value="":P.value=e[n].flights.return.depAir,Z.appendChild(P);const B=document.createElement("input");B.id="arr-time-dep",B.type="text",B.placeholder="HH:MM",null==e[n].flights?B.value="":B.value=e[n].flights.return.depTime,Z.appendChild(B);const _=document.createElement("input");_.id="arr-date-arr",_.type="text",_.placeholder="DD/MM/YYYY",null==e[n].flights?_.value="":_.value=e[n].flights.return.arrDate,Z.appendChild(_);const U=document.createElement("img");U.id="arr-img-arr",U.src=m,Z.appendChild(U);const I=document.createElement("input");I.id="arr-air-arr",I.type="text",I.placeholder="Arrival airport",null==e[n].flights?I.value="":I.value=e[n].flights.return.arrAir,Z.appendChild(I);const J=document.createElement("input");J.id="arr-time-arr",J.type="text",J.placeholder="HH:MM",null==e[n].flights?J.value="":J.value=e[n].flights.return.arrTime,Z.appendChild(J);const W=document.createElement("button");W.id="saveFlight",W.type="submit",W.innerText="Save",k.appendChild(W),s("flight",W,n);const G=document.createElement("div");G.className="restaurants-container",a.appendChild(G);const K=document.createElement("h2");K.className="subtitle",K.innerText="Restaurants",G.appendChild(K);const Q=document.createElement("form");Q.id="restaurants",G.appendChild(Q);const V=document.createElement("input");V.id="rest-name",V.type="text",V.placeholder="Restaurant name",Q.appendChild(V);const X=document.createElement("input");X.id="rest-address",X.type="text",X.placeholder="Restaurant address",Q.appendChild(X);const ee=document.createElement("button");ee.id="saveRestaurant",ee.type="submit",ee.innerText="Add",Q.appendChild(ee),s("restaurant",ee,n);const te=document.createElement("ul");if(te.id="restaurants-list",G.appendChild(te),null==e[n].restaurants){const e=document.createElement("li");e.innerText="No restaurants yet. Start adding...",e.className="no-items",te.appendChild(e)}else l(e[n].restaurants,te);const ne=document.createElement("div");ne.className="hotels-container",a.appendChild(ne);const ae=document.createElement("h2");ae.className="subtitle",ae.innerText="Hotels",ne.appendChild(ae);const re=document.createElement("form");re.id="hotels",ne.appendChild(re);const ie=document.createElement("input");ie.id="hot-name",ie.type="text",ie.placeholder="Hotel name",re.appendChild(ie);const oe=document.createElement("input");oe.id="hot-address",oe.type="text",oe.placeholder="Hotel address",re.appendChild(oe);const de=document.createElement("button");de.id="saveHotel",de.type="submit",de.innerText="Add",re.appendChild(de),s("hotel",de,n);const le=document.createElement("ul");if(le.id="hotels-list",ne.appendChild(le),null==e[n].hotels){const e=document.createElement("li");e.innerText="No hotels yet. Start adding...",e.className="no-items",le.appendChild(e)}else c(e[n].hotels,le)}}}async function f(){const e=await fetch("http://localhost:8081/trips");try{return await e.json()}catch(e){console.log("Error: ",e)}}let g=[];const x=document.querySelector("#addTrip").querySelector("#add");let y=[];(async()=>{y=await f(),u(y)})(),x.addEventListener("click",(async e=>{const t=document.querySelector("#date").value,n=((e=>{const t=e.split("/");if(1==t.length)return!1;{const e=t[0],n=t[1]-1,a=t[2];new Date(a,n,e)}})(t),new Date),a=document.querySelector("#where").value;if(""==a&&""==document.querySelector("#date").value)alert("Please input a location and date for your trip.");else{const r=((e,t,n)=>{if(""==e)return"Please input a date. For example: 25/12/2021.";if(0==t)return"Please input a valid date format: DD/MM/YYYY. For example: 25/12/2021.";if(t<n)return"You can't create a trip with a date in the past.";{const t=/[0-3][0-9]\/[0-1][0-9]\/202[1-9]/g;if(null==e.match(t))return"Please input a valid date format: DD/MM/YYYY. For example: 25/12/2021."}return""})(document.querySelector("#date").value,t,n),i=(e=>{let t="";if(""==e)t="Please input a location. For example: Zürich.";else{const n=/[a-zA-Z]+/g;null==e.match(n)&&(t="Please input a valid location.")}return t})(a);if(r.length>0)alert(r);else if(i.length>0)alert(i);else{let t={};e.preventDefault(),t.location=document.querySelector("#where").value;const a=document.querySelector("#date").value.split("/");t.date={},t.date.day=a[0],t.date.month=a[1],t.date.year=a[2];const r=new Date(t.date.year,t.date.month-1,t.date.day-1),i=864e5,o=Math.abs(Math.ceil((n.getTime()-r.getTime())/i));if(t.countdown=o,t.hero=await async function(e){const t=await(async()=>{const e=await fetch("http://localhost:8081/pixabay");try{return await e.text()}catch(e){console.log("Error: ",e)}})(),n=await fetch(`https://pixabay.com/api/?key=${t}&q=${e}&image_type=photo`);try{const e=await n.json();return e.hits[Math.floor(Math.random()*e.hits.length)].webformatURL}catch(e){console.log("Error: ",e)}}(t.location),o<=16)t.weather=await async function(e){const t=await(async()=>{const e=await fetch("http://localhost:8081/weather");try{return await e.text()}catch(e){console.log("Error: ",e)}})(),n=await fetch(`https://api.weatherbit.io/v2.0/forecast/daily?&city=${e.location}&key=${t}`);try{const t=await n.json();let a={};console.log(t);for(let n of t.data)n.valid_date==`${e.date.year}-${e.date.month}-${e.date.day}`&&(a.img=n.weather.icon,a.status=n.weather.description,a.high=n.max_temp,a.low=n.low_temp);return a}catch(e){console.log("Error: ",e)}}(t),console.log(t.weather);else{const e=await async function(e){const t=await(async()=>{const e=await fetch("http://localhost:8081/historical");try{return await e.text()}catch(e){console.log("Error: ",e)}})(),n=await(async(e,t)=>{const n=await fetch(`https://api.meteostat.net/v2/stations/search?query=${e.location}&limit=1`,{headers:{"x-api-key":t}});try{return(await n.json()).data[0].id}catch(e){console.log("Error: ",e)}})(e,t);return await(async(e,t,n)=>{const a=await fetch(`https://api.meteostat.net/v2/stations/climate?station=${n}`,{headers:{"x-api-key":t}});try{const t=await a.json();for(let n of t.data)if(n.month=e.date.month)return n.tavg}catch(e){console.log("Error: ",e)}})(e,t,n)}(t);t.weather={img:"",status:`Trip date is too far.\nAverage temperature for that time of the year is ${e}`,high:"--",low:"--"}}await(async e=>{const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n=await fetch("http://localhost:8081/addTrip",t);try{const e=await n.json();console.log("Added trip ",e,"\n Reloading trips."),g=await f(),document.querySelector("main").innerHTML="",u(g)}catch(e){console.log(e)}})(t),document.querySelector("#where").value="",document.querySelector("#date").value=""}}})),document.querySelector("#removeTrips").addEventListener("click",(()=>{confirm("Are you sure you want to remove all trips?")&&fetch("http://localhost:8081/removeTrips").then((()=>location.reload()))}))})()})();